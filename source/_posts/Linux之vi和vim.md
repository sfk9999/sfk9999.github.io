---
title: Linux之vi和vim
date: 2018-03-20 20:05:24
toc: true
tags:
    - Linux
---

Linux中的编写文档的vi和vim功能
<!--more-->

#### 1 vi
- ctrl+r:重复上一个操作
- .:重复前一个操作
- u：撤销前一个操作
- n<space>:光标向右移动n个字符
- n<enter>:光标向下移动n行
- w:光标跳到下个字的开头
- e:光标跳到下个字的结尾

##### 1.1 翻页
```
Ctrl+u  //向文件首翻半屏；
Ctrl+d  //向文件尾翻半屏；
Ctrl+f  //向文件尾翻一屏；
Ctrl+b  //向文件首翻一屏；
```
##### 1.2 跳转
```
:行号   //跳到指定行的行首
:$  //光标跳转到最后一行的行首；
```
##### 1.3 删除
```
x或X    //删除一个字符，x删除光标后的，而X删除光标前的；
D   //删除从当前光标到光标所在行尾的全部字符；
dd  //删除光标行内容；
ndd //删除当前行及其后n-1行；
```
##### 1.4 复制
```
yy  //复制一行则
3yy //复制三行则：即从当前光标+下两行。 
y$  //复制当前光标所在的位置到行尾： 
y^  //复制当前光标所在的位置到行首：
```
##### 1.5 剪切
```
dd
//与粘贴一样
```
##### 1.6 粘贴

```
//用v选中文本之后可以按y进行复制，如果按d就表示剪切，之后按p进行粘贴。

p   //粘贴文本操作，用于将缓存区的内容粘贴到当前光标所在位置的下方；
```
##### 1.7 查找
```
/word //文本查找操作，光标->尾部查找指定字符串的内容
？word  //文本查找操作，光标->头部查找指定字符串的内容
```
##### 1.8 添加
```
a，bs/F/T   //替换文本操作，用于在第a行到第b行之间，将F字符串换成T字符串。其中，“s/”表示进行替换操作；
a   //在当前字符后添加文本；
A   //在行末添加文本；
i   //在当前字符前插入文本；
I   //在行首插入文本；
o   //在当前行后面插入一空行；
O   //在当前行前面插入一空行；
```
##### 1.9 撤销，回退
```
u   //撤销上一步的操作
U   //行撤销，撤销所有在前一个编辑行上的操作
```
##### 1.10 vi编辑后如何退出文件
```
:w   //保存文件但不退出vi
:w file //另存为，不退出vi
:w!   //强制保存，不推出vi
:wq  //保存文件并退出vi
:wq! //强制保存文件，并退出vi
q:  //不保存文件，退出vi
:q! //不保存文件，强制退出vi
:e! //放弃所有修改，从上次保存文件开始再编辑
```
##### 1.11 文件保存
```

```

##### 2 vim
##### 2. 多文件编辑
```
vim file1 file2

:n  //编辑下一个文件
:N  //编辑上一个文件
:files  //列出这个vim编辑的所有文件
```
##### 多窗口参照功能
```
sp filename //开启一个新窗口，和新文件。若没有filename则为同一个文件

ctrl+w+j    //下方的窗口
ctrl+w+k    //上方的窗口
```

##### 其他功能
- set nu:显示行号
- set nonu:取消行号

##### 比较
```
vimdiff file_left file_right
```
- ctrl+w+h:窗口移动到左边
- ctrl+w+l:窗口移动到右边
