---
title: CSS中的BFC
date: 2017-11-16 21:55:45
tags:
    - CSS
    - BFC
---
### CSS中的BFC
- BFC(Block Formatting Context--块级格式化范围)是Web页面中盒模型布局的CSS渲染模式。它的定位体系属于常规文档流

#### 1.BFC的生成
- 浮动，绝对定位元素，inline-blocks, table-cells, table-captions,和overflow的值不为visible的元素，（除了这个值已经被传到了视口的时候）将创建一个新的块级格式化上下文。
- 一个BFC是一个HTML盒子并且至少满足下列条件中的任何一个：
    - float的值不为none（none为默认值）
    - position的值不为static或者relative
    - display的值为 table-cell, table-caption, inline-block, flex, 或者 inline-flex中的其中一个
    - overflow的值不为visible
<!--more-->
#### 2. BFC的规则
- 生成BFC元素的子元素会一个接一个的放置。垂直方向上他们的起点是一个包含块的顶部，俩个相邻子元素之间垂直距离取决于元素margin特性。在BFC中相邻的块级元素外边距会折叠。
- 生成BFC元素的子元素中，每一个子元素的外边距和包含块的左边界相接触，（对于从右到左的格式化，右外边距和右边界相接触），除非这个子元素也创建了一个新的BFC（如它自身也是一个浮动元素）。

#### 3. BFC的作用
##### 3.1 BFC中的盒子对齐
- 在BFC中，每个盒子的左外边框紧挨着包含块的左边框（从右到左的格式，则为紧挨右边框）。即使存在浮动也是这样的（尽管一个盒子的边框会由于浮动而收缩），除非这个盒子的内部创建了一个新的BFC浮动，盒子本身将会变得更窄）。

##### 3.2 BFC导致的外边距折叠
##### 3.3 使用BFC来防止外边距折叠
- 毗邻块盒子的垂直外边距折叠只有他们是在同一BFC时才会发生。如果他们属于不同的BFC，他们之间的外边距将不会折叠。

##### 3.4 使用BFC来包含浮动
- 一个容器里有浮动元素。由于容器元素没有高度，它的浮动孩子将会脱离页面的常规流。我们通常使用清除浮动来解决这个问题，最受欢迎的方法是使用一个clearfix的伪类元素。但我们同样可以通过定义一个BFC来达到这个目的。
- 为了解决父元素没有高度的问题，可以添加overflow:hidden，在容器中创建一个新的BFC来解决。

##### 3.5 使用BFC来防止文字环绕
- 有时候一个浮动div周围的文字环绕着它，但是在某些案例中这并不是可取的，我们想要的是外观跟下图中的右图一样的。为了解决这个问题，我们可能使用外边距，但是我们也可以使用一个BFC来解决。
- 如果这个p元素创建了一个新的BFC,那么它将不会紧挨着容器块的左边缘。这个可以通过简单的给p元素添加```overflow: hidden```来实现。这个方法创建了一个新的BFC解决了文字环绕在浮动元素周围的问题。

##### 3.6多列布局中使用BFC
- 如果我们正在创建的一个多列布局占满了整个容器的宽度，在某些浏览器中最后一列有时候将会被挤到下一行。会发生这样可能是因为浏览器舍入（取整）了列的宽度使得总和的宽度超过了容器的宽度。
- 然而，如果我们在一个列的布局中建立了一个新的BFC，它将会在前一列填充完之后的后面占据所剩余的空间。
