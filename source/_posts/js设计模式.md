---
title: js设计模式
date: 2017-12-22 16:05:31
toc: true
tags:
    - JavaScript
---
#### 一、什么是设计模式
设计模式是命名、抽象和识别对可重用的面向对象设计有用的的通用设计结构。设计模式确定类和他们的实体、他们的角色和协作、还有他们的责任分配。目的是为了可重用代码、让代码更容易被他人理解、保证代码可靠性。

<!--more-->
##### 1.1 种类
设计模式可以被分成几个不同的种类。在这个部分我们将分为三类：创建型设计模式、结构设计模式、行为设计模式。
###### 1.1.1 创建型设计模式
创建型设计模式关注于对象创建的机制方法，通过该方法,对象以适应工作环境的方式被创建。基本的对象创建方法可能会给项目增加额外的复杂性，而这些模式的目的就是为了通过控制创建过程解决这个问题。
- 属于这一类的一些模式是：构造器模式（Constructor）,工厂模式（Factory）,抽象工厂模式（Abstract）,原型模式（Prototype）,单例模式（Singleton）以及 建造者模式（Builder）。

###### 1.1.2 结构设计模式
结构模式关注于对象组成和通常识别的方式实现不同对象之间的关系。该模式有助于在系统的某一部分发生改变的时候，整个系统结构不需要改变。该模式同样有助于对系统中某部分没有达到某一目的的部分进行重组。
- 在该分类下的模式有：装饰模式，外观模式，享元模式，适配器模式和代理模式。

###### 1.1.3 行为设计模式
行为模式关注改善或精简在系统中不同对象间通信。
- 行为模式包括：迭代模式，中介者模式，观察者模式和访问者模式。

#### 二、常见的设计模式
##### 2.1 单例模式
- 单例模式之所以这么叫，是因为它限制一个类只能有一个实例化对象。
- 经典的实现方式是，创建一个类，这个类包含一个方法，这个方法在没有对象存在的情况下，将会创建一个新的实例对象。如果对象存在，这个方法只是返回这个对象的引用。
    ```
    var createMask = function(){
      var mask;
      return function(){
           return mask || ( mask = document.body.appendChild( document.createElement('div') ) )
      }
    }()
    ```
##### 2.2 工厂模式
一个工厂能提供一个创建对象的公共接口，我们可以在其中指定我们希望被创建的工厂对象的类型。说的简单点，就像饮水机，要咖啡还是牛奶取决于你按哪个按钮。
```
ajax("test002.txt",{
	type:"GET",
	data:{
		name:"liuf",
		age:23
	},
	onsuccess:function(responseText,xhr){
		document.getElementById("input").value=responseText;
	},
	onfail:function(){
		//document.write("fail");
	}
});
```

##### 2.3 桥接模式
桥接模式就是将实现部分和抽象部分分离开来，以便两者可以独立的变化。在实现api的时候，桥接模式非常常用。

